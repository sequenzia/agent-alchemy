{
  "id": "9",
  "subject": "Create create-tdd-tasks skill in sdd-tools",
  "description": "Create the create-tdd-tasks skill at `claude/sdd-tools/skills/create-tdd-tasks/SKILL.md`.\n\nThis is a P0 skill that extends the SDD pipeline by transforming existing SDD tasks into test-first TDD task pairs. It bridges the gap between SDD task generation and TDD execution.\n\n**Skill Configuration (YAML Frontmatter):**\n- name: create-tdd-tasks\n- description: Transform SDD tasks into test-first TDD task pairs\n- argument-hint: `[--task-group <group>]`\n- user-invocable: true\n- allowed-tools: Read, Glob, Grep, AskUserQuestion, TaskCreate, TaskGet, TaskList, TaskUpdate\n\n**Workflow:**\n\n1. **Load References** — Read tdd-decomposition-patterns.md and tdd-dependency-rules.md\n2. **Read Existing Tasks** — Use TaskList to get current tasks, filter by --task-group if specified\n3. **Detect Existing TDD Pairs** — Check for tasks with `tdd_mode: true` metadata (merge mode)\n4. **Generate Test Tasks** — For each implementation task:\n   - Create a paired test task with: test file path, framework, test descriptions from acceptance criteria\n   - Set metadata: `tdd_phase: \"red\"`, `paired_task_id: {impl_task_id}`, `tdd_mode: true`\n   - Implementation task gets: `tdd_phase: \"green\"`, `paired_task_id: {test_task_id}`, `tdd_mode: true`\n5. **Set Dependencies** — Test task BLOCKS implementation task. Preserve existing dependency chains\n6. **Preview & Confirm** — Show summary of new TDD pairs, get user confirmation via AskUserQuestion\n7. **Create Tasks** — Create test tasks via TaskCreate, update implementation tasks with TDD metadata via TaskUpdate\n8. **Report** — Summary of created pairs, dependency chain visualization\n\n**Requires tdd-tools plugin**: If tdd-tools is not installed, show clear error explaining the dependency.\n\n**Acceptance Criteria:**\n\n_Functional:_\n- [ ] Reads existing tasks from task list generated by /create-tasks (US-005)\n- [ ] For each implementation task, generates a paired test task\n- [ ] Test tasks contain: test file path, test framework, acceptance criteria as test descriptions\n- [ ] Sets dependencies: test task blocks its paired implementation task\n- [ ] Adds TDD metadata: tdd_phase, paired_task_id, tdd_mode\n- [ ] Supports --task-group filtering\n- [ ] Preserves existing task dependencies — TDD pairs inserted into chain\n- [ ] Requires tdd-tools plugin to be installed\n\n_Edge Cases:_\n- [ ] Tasks already have TDD pairs: detect and skip (merge mode)\n- [ ] Tasks without acceptance criteria: generate basic test tasks from subject/description\n- [ ] Circular dependencies after insertion: detect and break at weakest link\n\n_Error Handling:_\n- [ ] tdd-tools not installed: clear error explaining dependency\n- [ ] No tasks found for specified group: helpful error message\n- [ ] Empty task list: inform user to run /create-tasks first\n\n**Testing Requirements:**\n• Manual: Verify TDD pairs generated correctly from sample SDD task list\n• Manual: Validate dependency chain preservation after pair insertion\n• Manual: Test merge mode with pre-existing TDD pairs\n\nSource: specs/tdd-features-SPEC.md Section 5.4, 9.2",
  "activeForm": "Creating create-tdd-tasks skill in sdd-tools",
  "status": "completed",
  "blocks": [
    "11"
  ],
  "blockedBy": [
    "8"
  ],
  "metadata": {
    "priority": "critical",
    "complexity": "L",
    "source_section": "5.4, 9.2",
    "spec_path": "specs/tdd-features-SPEC.md",
    "feature_name": "Create TDD Tasks",
    "task_uid": "specs/tdd-features-SPEC.md:create-tdd-tasks:skill:001",
    "task_group": "tdd-features"
  }
}